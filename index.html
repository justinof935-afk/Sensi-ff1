<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BuxBlox - Robux Premium</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #e2ff00;
            --primary-dark: #b8cc00;
            --bg: #050505;
            --card: #111111;
            --text: #ffffff;
            --text-dim: #a1a1a1;
            --border: rgba(255, 255, 255, 0.08);
            --shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Plus Jakarta Sans', sans-serif; }
        
        body { 
            background-color: var(--bg); 
            color: var(--text); 
            overflow-x: hidden;
            background-image: radial-gradient(circle at top right, rgba(226, 255, 0, 0.03), transparent);
        }

        /* --- AUTH SYSTEM --- */
        .auth-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: var(--bg); z-index: 9999; display: flex; align-items: center; justify-content: center; 
        }
        .auth-box { 
            background: var(--card); padding: 40px; border-radius: 28px; 
            border: 1px solid var(--border); width: 90%; max-width: 400px; 
            text-align: center; box-shadow: var(--shadow);
        }
        .auth-box h2 { font-weight: 800; margin-bottom: 25px; letter-spacing: -1px; }
        .auth-box input { 
            width: 100%; padding: 16px; margin-bottom: 12px; border-radius: 14px;
            background: #000; border: 1px solid var(--border); color: white; outline: none;
            transition: 0.3s;
        }
        .auth-box input:focus { border-color: var(--primary); }

        /* --- LAYOUT PRINCIPAL --- */
        header { 
            display: flex; align-items: center; justify-content: space-between; 
            padding: 20px 6%; background: rgba(5, 5, 5, 0.8);
            backdrop-filter: blur(12px); border-bottom: 1px solid var(--border);
            position: sticky; top: 0; z-index: 1000;
        }
        .logo { background: var(--primary); color: #000; padding: 8px 16px; font-weight: 800; border-radius: 8px; font-size: 0.9rem; }

        .container { max-width: 600px; margin: 0 auto; padding: 40px 20px; }
        
        /* --- CARDS --- */
        .price-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px; }
        .price-card { 
            background: var(--card); border: 1px solid var(--border); padding: 25px 15px;
            border-radius: 24px; cursor: pointer; text-align: center; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .price-card:hover { transform: translateY(-5px); background: #1a1a1a; }
        .price-card.active { background: var(--primary); color: #000; border-color: var(--primary); box-shadow: 0 0 20px rgba(226, 255, 0, 0.2); }
        .price-card .amount { display: block; font-weight: 800; font-size: 1.2rem; }
        .price-card small { font-weight: 600; opacity: 0.8; }

        .btn-main { 
            width: 100%; padding: 20px; border-radius: 18px; border: none;
            background: var(--primary); color: #000; font-weight: 800; 
            cursor: pointer; transition: 0.3s; text-transform: uppercase;
            letter-spacing: 1px;
        }
        .btn-main:hover { background: var(--primary-dark); transform: scale(1.02); }

        /* --- MENU LATERAL --- */
        .sidebar { 
            position: fixed; top: 0; left: -320px; width: 300px; height: 100%; 
            background: var(--card); border-right: 1px solid var(--border); 
            z-index: 2000; transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1); padding: 40px; 
        }
        .sidebar.open { left: 0; }
        .nav-link { padding: 15px 0; border-bottom: 1px solid var(--border); cursor: pointer; display: flex; align-items: center; gap: 10px; transition: 0.3s; }
        .nav-link:hover { color: var(--primary); }

        /* --- MODAIS --- */
        .modal { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.9); z-index: 3000; align-items: center; justify-content: center; 
            backdrop-filter: blur(8px);
        }
        .modal-content { background: var(--card); width: 90%; max-width: 400px; padding: 40px; border-radius: 32px; border: 1px solid var(--border); text-align: center; }
        
        .tab-btn { padding: 10px 20px; border-radius: 10px; border: 1px solid var(--border); background: none; color: white; cursor: pointer; margin: 0 5px; }
        .tab-btn.active { background: var(--primary); color: black; font-weight: bold; }
    </style>
</head>
<body>

    <div id="auth-screen" class="auth-overlay">
        <div class="auth-box" id="box-login">
            <h2>Bem-vindo de volta</h2>
            <input type="email" id="l-email" placeholder="E-mail">
            <input type="password" id="l-pass" placeholder="Senha">
            <button class="btn-main" onclick="entrar()">Entrar</button>
            <p onclick="irParaCadastro()" style="margin-top: 20px; cursor: pointer; color: var(--text-dim); font-size: 0.9rem;">N칚o tem conta? <span style="color: var(--primary)">Criar agora</span></p>
        </div>

        <div class="auth-box" id="box-reg" style="display: none;">
            <h2>Criar Conta</h2>
            <input type="text" id="r-name" placeholder="Nome Completo">
            <input type="email" id="r-email" placeholder="E-mail">
            <input type="password" id="r-pass" placeholder="Crie uma Senha">
            <button class="btn-main" onclick="cadastrar()">Cadastrar</button>
            <p onclick="irParaLogin()" style="margin-top: 20px; cursor: pointer; color: var(--text-dim); font-size: 0.9rem;">J치 tem conta? <span style="color: var(--primary)">Fazer Login</span></p>
        </div>
    </div>

    <div id="main-app" style="display: none;">
        <header>
            <i class="fa-solid fa-bars-staggered" onclick="openNav()" style="cursor: pointer; font-size: 1.5rem;"></i>
            <div class="logo">BUXBLOX</div>
            <i class="fa-solid fa-circle-user" style="font-size: 1.5rem;"></i>
        </header>

        <nav id="menu" class="sidebar">
            <div style="text-align: right; margin-bottom: 20px;"><i class="fa-solid fa-xmark" onclick="closeNav()" style="cursor: pointer;"></i></div>
            <h3 id="display-user-name">Usu치rio</h3>
            <p id="display-role" style="font-size: 0.8rem; color: var(--text-dim); margin-bottom: 30px;">Membro Standard</p>
            
            <div id="admin-btn" class="nav-link" style="display: none; color: var(--primary);" onclick="openAdmin()">
                <i class="fa-solid fa-screwdriver-wrench"></i> Painel Administrador
            </div>
            
            <div class="nav-link" onclick="logout()" style="color: #ff4747; border: none; margin-top: 20px;">
                <i class="fa-solid fa-power-off"></i> Sair
            </div>
        </nav>

        <div class="container">
            <div style="text-align: center; margin-bottom: 40px;">
                <h1 style="font-size: 2.5rem; font-weight: 800;">Robux Premium</h1>
                <p style="color: var(--text-dim);">Selecione um pacote abaixo para continuar</p>
            </div>

            <div class="price-grid" id="products"></div>

            <div style="background: var(--card); padding: 30px; border-radius: 28px; border: 1px solid var(--border); text-align: center; box-shadow: var(--shadow);">
                <p style="color: var(--text-dim); font-size: 0.8rem; margin-bottom: 5px;">Total a pagar</p>
                <h2 id="total-text" style="font-size: 2.5rem; margin-bottom: 20px;">R$ 0,00</h2>
                <button class="btn-main" onclick="openBuy()">Comprar via WhatsApp</button>
            </div>
        </div>
    </div>

    <div id="m-admin" class="modal">
        <div class="modal-content">
            <h2 style="margin-bottom: 20px;">Gerenciamento</h2>
            <div style="margin-bottom: 20px;">
                <button class="tab-btn active" id="tabPreco" onclick="switchAdminTab('preco')">Pre칞os</button>
                <button class="tab-btn" id="tabAcesso" onclick="switchAdminTab('acesso')">Admin</button>
            </div>

            <div id="pane-precos">
                <div id="admin-list" style="text-align: left; margin-bottom: 20px;"></div>
                <button class="btn-main" onclick="salvarNovosPrecos()">Salvar Pre칞os</button>
            </div>

            <div id="pane-acesso" style="display: none;">
                <input type="email" id="adm-mail" placeholder="E-mail do novo Admin" style="width: 100%; padding: 15px; background: #000; border: 1px solid #333; color: #fff; border-radius: 12px; margin-bottom: 15px;">
                <button class="btn-main" onclick="darAdmin()">Confirmar Acesso</button>
            </div>

            <p onclick="closeAdmin()" style="margin-top: 20px; cursor: pointer; color: var(--text-dim);">Voltar</p>
        </div>
    </div>

    <div id="m-buy" class="modal">
        <div class="modal-content">
            <h2>Finalizar Pedido</h2>
            <p style="color: var(--text-dim); margin-bottom: 20px;">Insira seu nick do Roblox corretamente</p>
            <input type="text" id="nick" placeholder="Ex: PlayerRoblox_123" style="width: 100%; padding: 16px; margin-bottom: 20px; background: #000; border: 1px solid #333; color: #fff; border-radius: 14px;">
            <button class="btn-main" onclick="finalizarCompra()">Gerar Pedido</button>
            <p onclick="document.getElementById('m-buy').style.display='none'" style="margin-top: 15px; cursor: pointer; color: var(--text-dim);">Cancelar</p>
        </div>
    </div>

    <script>
        // --- CONFIGURA칂칏ES DO DONO ---
        const MASTER_EMAIL = "justinof935@gmail.com";

        // --- BANCO DE DADOS LOCAL ---
        if(!localStorage.getItem('bx_users')) localStorage.setItem('bx_users', JSON.stringify([]));
        if(!localStorage.getItem('bx_admins')) localStorage.setItem('bx_admins', JSON.stringify([MASTER_EMAIL]));
        if(!localStorage.getItem('bx_items')) {
            localStorage.setItem('bx_items', JSON.stringify([
                {id: 1, n: "415 Robux", p: 25.00},
                {id: 2, n: "1000 Robux", p: 59.00},
                {id: 3, n: "2000 Robux", p: 115.00},
                {id: 4, n: "5250 Robux", p: 290.00}
            ]));
        }

        let itemSelecionado = null;

        // --- SISTEMA DE LOGIN/CADASTRO ---
        function irParaCadastro() { document.getElementById('box-login').style.display = 'none'; document.getElementById('box-reg').style.display = 'block'; }
        function irParaLogin() { document.getElementById('box-reg').style.display = 'none'; document.getElementById('box-login').style.display = 'block'; }

        function cadastrar() {
            const n = document.getElementById('r-name').value.trim();
            const e = document.getElementById('r-email').value.toLowerCase().trim();
            const p = document.getElementById('r-pass').value.trim();

            if(!n || !e || !p) return alert("Preencha todos os campos!");

            let users = JSON.parse(localStorage.getItem('bx_users'));
            if(users.find(u => u.email === e)) return alert("E-mail j치 cadastrado!");

            users.push({name: n, email: e, pass: p});
            localStorage.setItem('bx_users', JSON.stringify(users));
            alert("Cadastro realizado! Agora fa칞a login.");
            irParaLogin();
        }

        function entrar() {
            const e = document.getElementById('l-email').value.toLowerCase().trim();
            const p = document.getElementById('l-pass').value.trim();

            let users = JSON.parse(localStorage.getItem('bx_users'));
            let conta = users.find(u => u.email === e && u.pass === p);

            if(!conta && e === MASTER_EMAIL) conta = {name: "Dono", email: MASTER_EMAIL};

            if(conta) {
                localStorage.setItem('bx_logged', JSON.stringify(conta));
                window.location.reload();
            } else {
                alert("Dados incorretos!");
            }
        }

        function logout() { localStorage.removeItem('bx_logged'); window.location.reload(); }

        // --- INICIALIZA칂츾O ---
        window.onload = function() {
            const user = JSON.parse(localStorage.getItem('bx_logged'));
            if(user) {
                document.getElementById('auth-screen').style.display = 'none';
                document.getElementById('main-app').style.display = 'block';
                document.getElementById('display-user-name').innerText = user.name;

                let admins = JSON.parse(localStorage.getItem('bx_admins'));
                if(admins.includes(user.email)) {
                    document.getElementById('admin-btn').style.display = 'flex';
                    document.getElementById('display-role').innerText = "Administrador Master";
                }
                renderProdutos();
            }
        };

        // --- LOJA ---
        function renderProdutos() {
            const itens = JSON.parse(localStorage.getItem('bx_items'));
            const container = document.getElementById('products');
            container.innerHTML = '';

            itens.forEach((item, i) => {
                const card = document.createElement('div');
                card.className = `price-card ${i === 0 ? 'active' : ''}`;
                card.innerHTML = `<span class="amount">${item.n}</span><small>R$ ${item.p.toFixed(2)}</small>`;
                card.onclick = () => {
                    document.querySelectorAll('.price-card').forEach(c => c.classList.remove('active'));
                    card.classList.add('active');
                    itemSelecionado = item;
                    document.getElementById('total-text').innerText = `R$ ${item.p.toFixed(2).replace('.', ',')}`;
                };
                container.appendChild(card);
                if(i === 0) {
                    itemSelecionado = item;
                    document.getElementById('total-text').innerText = `R$ ${item.p.toFixed(2).replace('.', ',')}`;
                }
            });
        }

        // --- ADMIN ---
        function switchAdminTab(t) {
            document.getElementById('pane-precos').style.display = t === 'preco' ? 'block' : 'none';
            document.getElementById('pane-acesso').style.display = t === 'acesso' ? 'block' : 'none';
            document.getElementById('tabPreco').classList.toggle('active', t === 'preco');
            document.getElementById('tabAcesso').classList.toggle('active', t === 'acesso');
        }

        function openAdmin() {
            document.getElementById('m-admin').style.display = 'flex';
            const list = document.getElementById('admin-list');
            const itens = JSON.parse(localStorage.getItem('bx_items'));
            list.innerHTML = '';
            itens.forEach(item => {
                list.innerHTML += `<div style="margin-bottom:15px;">
                    <p style="font-size:0.75rem; color:gray; margin-bottom:5px;">${item.n}</p>
                    <input type="number" step="0.01" value="${item.p}" id="inp-p-${item.id}" style="width:100%; padding:10px; background:#000; border:1px solid #333; color:white; border-radius:8px;">
                </div>`;
            });
        }

        function salvarNovosPrecos() {
            let itens = JSON.parse(localStorage.getItem('bx_items'));
            itens.forEach(item => {
                item.p = parseFloat(document.getElementById(`inp-p-${item.id}`).value);
            });
            localStorage.setItem('bx_items', JSON.stringify(itens));
            alert("Pre칞os atualizados!");
            window.location.reload();
        }

        function darAdmin() {
            const mail = document.getElementById('adm-mail').value.toLowerCase().trim();
            if(!mail) return alert("Digite o e-mail");
            let admins = JSON.parse(localStorage.getItem('bx_admins'));
            if(!admins.includes(mail)) admins.push(mail);
            localStorage.setItem('bx_admins', JSON.stringify(admins));
            alert("Admin concedido com sucesso!");
            document.getElementById('adm-mail').value = "";
        }

        // --- COMPRA ---
        function openBuy() { document.getElementById('m-buy').style.display = 'flex'; }
        function finalizarCompra() {
            const nick = document.getElementById('nick').value.trim();
            if(!nick) return alert("Insira seu Nick");
            const msg = encodeURIComponent(`Ol치! Gostaria de comprar:\n游닍 Pacote: ${itemSelecionado.n}\n游녻 Nick: ${nick}\n游눯 Valor: R$ ${itemSelecionado.p.toFixed(2)}`);
            window.open(`https://wa.me/5515998149457?text=${msg}`);
        }

        // UTILS
        function openNav() { document.getElementById('menu').classList.add('open'); }
        function closeNav() { document.getElementById('menu').classList.remove('open'); }
        function closeAdmin() { document.getElementById('m-admin').style.display = 'none'; }
    </script>
</body>
</html>
